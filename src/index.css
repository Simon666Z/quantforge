@tailwind base;
@tailwind components;
@tailwind utilities;

/* --- 全局贝塞尔曲线 --- */
.transition-bouncy {
  transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.btn-bouncy {
  @apply transition-bouncy cursor-pointer select-none;
}
.btn-bouncy:hover {
  transform: scale(1.05);
}
.btn-bouncy:active {
  transform: scale(0.95);
}

/* --- Modal 核心动画 --- */
@keyframes modal-pop-in {
  0% { opacity: 0; transform: scale(0.95) translateY(10px); }
  100% { opacity: 1; transform: scale(1) translateY(0); }
}

@keyframes modal-pop-out {
  0% { opacity: 1; transform: scale(1) translateY(0); }
  100% { opacity: 0; transform: scale(0.95) translateY(10px); }
}

@keyframes backdrop-in { from { opacity: 0; } to { opacity: 1; } }
@keyframes backdrop-out { from { opacity: 1; } to { opacity: 0; } }

.animate-modal-in { animation: modal-pop-in 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
.animate-modal-out { animation: modal-pop-out 0.3s ease-in forwards; }
.animate-backdrop-in { animation: backdrop-in 0.3s ease-out forwards; }
.animate-backdrop-out { animation: backdrop-out 0.3s ease-in forwards; }

/* --- 滑条样式 --- */
.range-slider {
  -webkit-appearance: none; appearance: none; background: transparent; cursor: grab;
  height: 24px; width: 100%; position: relative; z-index: 10; touch-action: none;
  --track-bg: #e2e8f0; --thumb-bg: #64748b; --thumb-shadow: rgba(100, 116, 139, 0.3);
}
.range-slider:active { cursor: grabbing; }

.range-accent-sakura { --track-bg: #fbcfe8; --thumb-bg: #ec4899; --thumb-shadow: rgba(236, 72, 153, 0.4); }
.range-accent-sky { --track-bg: #bae6fd; --thumb-bg: #0ea5e9; --thumb-shadow: rgba(14, 165, 233, 0.4); }
.range-accent-emerald { --track-bg: #a7f3d0; --thumb-bg: #10b981; --thumb-shadow: rgba(16, 185, 129, 0.4); }
.range-accent-rose { --track-bg: #fecdd3; --thumb-bg: #f43f5e; --thumb-shadow: rgba(244, 63, 94, 0.4); }
.range-accent-slate { --track-bg: #e2e8f0; --thumb-bg: #64748b; --thumb-shadow: rgba(100, 116, 139, 0.3); }

.range-slider::-webkit-slider-runnable-track {
  height: 8px; border-radius: 999px; background-color: var(--track-bg) !important; transition: background-color 0.3s ease;
}
.range-slider::-webkit-slider-thumb {
  -webkit-appearance: none; appearance: none; margin-top: -6px; height: 20px; width: 20px;
  border-radius: 50%; border: 2px solid white; background-color: var(--thumb-bg) !important;
  box-shadow: 0 2px 5px rgba(0,0,0,0.15);
  transition: transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1), box-shadow 0.3s ease;
}
.range-slider:hover::-webkit-slider-thumb { transform: scale(1.2); cursor: grab; }
.range-slider:active::-webkit-slider-thumb { transform: scale(1.5); box-shadow: 0 0 0 8px var(--thumb-shadow) !important; cursor: grabbing; }

.range-slider::-moz-range-track { height: 8px; border-radius: 999px; background-color: var(--track-bg) !important; }
.range-slider::-moz-range-thumb { height: 20px; width: 20px; border: 2px solid white; border-radius: 50%; background-color: var(--thumb-bg) !important; transition: transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1); }
.range-slider:active::-moz-range-thumb { transform: scale(1.5); box-shadow: 0 0 0 8px var(--thumb-shadow) !important; }

/* iOS-style Modal Animations */
@keyframes ios-enter {
  0% { opacity: 0; transform: scale(0.95) translateY(10px); }
  100% { opacity: 1; transform: scale(1) translateY(0); }
}

@keyframes ios-overlay-enter {
  0% { opacity: 0; backdrop-filter: blur(0px); }
  100% { opacity: 1; backdrop-filter: blur(4px); }
}

@keyframes slide-up-fade {
  0% { opacity: 0; transform: translateY(10px); }
  100% { opacity: 1; transform: translateY(0); }
}

@keyframes shake {
  0%, 100% { transform: translateX(0); }
  25% { transform: translateX(-4px); }
  75% { transform: translateX(4px); }
}

.animate-ios-enter {
  animation: ios-enter 0.4s cubic-bezier(0.32, 0.72, 0, 1) forwards;
}

.animate-ios-overlay {
  animation: ios-overlay-enter 0.4s ease-out forwards;
}

.animate-slide-up {
  animation: slide-up-fade 0.3s ease-out forwards;
}

.animate-shake {
  animation: shake 0.3s ease-in-out;
}

/* Page Load Entrance Animations */
@keyframes fade-in-up {
  0% { opacity: 0; transform: translateY(20px); }
  100% { opacity: 1; transform: translateY(0); }
}

@keyframes fade-in-scale {
  0% { opacity: 0; transform: scale(0.96); }
  100% { opacity: 1; transform: scale(1); }
}

@keyframes fade-in {
  0% { opacity: 0; }
  100% { opacity: 1; }
}

@keyframes float-in {
  0% { opacity: 0; transform: translateY(30px) scale(0.98); }
  100% { opacity: 1; transform: translateY(0) scale(1); }
}

.animate-fade-in-up {
  animation: fade-in-up 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards;
}

.animate-fade-in-scale {
  animation: fade-in-scale 0.5s cubic-bezier(0.16, 1, 0.3, 1) forwards;
}

.animate-fade-in {
  animation: fade-in 0.4s ease-out forwards;
}

.animate-float-in {
  animation: float-in 0.7s cubic-bezier(0.16, 1, 0.3, 1) forwards;
}

.animation-delay-100 { animation-delay: 0.1s; opacity: 0; }
.animation-delay-200 { animation-delay: 0.2s; opacity: 0; }
.animation-delay-300 { animation-delay: 0.3s; opacity: 0; }
.animation-delay-400 { animation-delay: 0.4s; opacity: 0; }
.animation-delay-500 { animation-delay: 0.5s; opacity: 0; }

/* Markdown Styles specific for Diagnosis */
.prose p {
  margin-bottom: 0.75em;
  line-height: 1.6;
  color: #475569;
}
.prose strong {
  color: #1e293b;
  font-weight: 700;
}
.prose ul {
  list-style-type: disc;
  padding-left: 1.2em;
  margin-bottom: 0.75em;
}